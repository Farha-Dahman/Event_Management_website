@page
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
<section id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
    <!-- Carousel Indicators -->
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>

    <!-- Carousel Items -->
    <div class="carousel-inner">
        <!-- First Slide -->
        <div class="carousel-item active">
            <div class="d-flex align-items-center bg-image first-slide justify-content-center text-center text-white bg-dark" style="height: 80vh;">
                <div>
                    <h1 class="display-3 fw-bold">Welcome to Eventify</h1>
                    <p class="lead">Discover the hottest events near you!</p>
                    <a href="./Identity/Account/Register" class="btn btn-outline-light bg-btn btn-lg">Get started for free</a>
                    <a href="#" class="btn btn-outline-light btn-lg">View Latest Event</a>
                </div>
            </div>
        </div>

        <!-- Second Slide -->
        <div class="carousel-item">
            <div class="d-flex align-items-center second-slide justify-content-center text-center text-white bg-primary" style="height: 80vh;">
                <div>
                    <h1 class="display-3 fw-bold">Join, Explore & Connect</h1>
                    <p class="lead">Stay updated and never miss out on amazing events.</p>
                </div>
            </div>
        </div>

        <!-- Third Slide -->
        <div class="carousel-item">
            <div class="d-flex align-items-center third-slide justify-content-center text-center text-white bg-secondary" style="height: 80vh;">
                <div>
                    <h1 class="display-3 fw-bold">Your Next Event Awaits</h1>
                    <p class="lead">Create, share, and manage events with ease!</p>
                    <a href="./Events" class="btn btn-outline-light btn-lg">Explore Events</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<div class="container text-center my-3 py-5">
    <h2 class="mb-4 fw-bold secondary-color">Why Eventify?</h2>
    <p class="lead">Eventify is your one-stop platform to explore, organize, and manage events seamlessly. Stay connected and experience unforgettable moments!</p>
    <div class="row mt-5 pt-3">
        <div class="col-md-4">
            <i class="fa-solid fa-calendar-check feature-icon mb-3 p-3 rounded-circle"></i>
            <h5>Easy Event Management</h5>
            <p>Create, edit, and track events with a few clicks.</p>
        </div>
        <div class="col-md-4">
            <i class="fa-solid fa-users feature-icon mb-3 p-3 rounded-circle"></i>
            <h5>Connect With Attendees</h5>
            <p>Engage with participants and grow your network.</p>
        </div>
        <div class="col-md-4">
            <i class="fa-solid fa-ticket-alt feature-icon mb-3 p-3 rounded-circle"></i>
            <h5>Hassle-Free Ticketing</h5>
            <p>Sell tickets online and manage check-ins effortlessly.</p>
        </div>
    </div>
</div>

<!-- Features Section -->
<section class="features-section py-4">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h2 class="fw-bold text-dark">Powerful Event Management</h2>
                <p class="text-muted">Manage, discover, and sell tickets for events seamlessly.</p>
                <div class="d-flex align-items-start mb-4">
                    <i class="fa-regular fa-calendar feature-icon p-3 rounded-circle me-4"></i>
                    <div>
                        <h5 class="fw-bold">Event Management</h5>
                        <p class="text-muted">Create, manage, and track events with powerful tools.</p>
                    </div>
                </div>
                <div class="d-flex align-items-start mb-4">
                    <i class="fa-solid fa-list-check feature-icon p-3 rounded-circle me-4"></i>
                    <div>
                        <h5 class="fw-bold">Event Discovery</h5>
                        <p class="text-muted">Find exciting events based on your interests.</p>
                    </div>
                </div>
                <div class="d-flex align-items-start">
                    <i class="fa-solid fa-ticket feature-icon p-3 rounded-circle me-4"></i>
                    <div>
                        <h5 class="fw-bold">Seamless Ticketing</h5>
                        <p class="text-muted">E-tickets with QR codes for easy access.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 text-center">
                <img src="~/images/management-office.svg" alt="Event Management Image" class="img-fluid rounded shadow">
            </div>
        </div>
    </div>
</section>

<div class="container my-5 py-5">
    <section class="row justify-content-center align-items-center text-center g-4">
        <div class="col-6 col-md-4 col-lg-2">
            <img src="~/images/Google.svg" alt="Google" class="img-fluid brand-logo">
        </div>
        <div class="col-6 col-md-4 col-lg-2">
            <img src="~/images/Microsoft.svg" alt="Microsoft" class="img-fluid brand-logo">
        </div>
        <div class="col-6 col-md-4 col-lg-2">
            <img src="~/images/Spotify.svg" alt="Spotify" class="img-fluid brand-logo">
        </div>
        <div class="col-6 col-md-4 col-lg-2">
            <img src="~/images/Mailchimp.svg" alt="Mailchimp" class="img-fluid brand-logo">
        </div>
        <div class="col-6 col-md-4 col-lg-2">
            <img src="~/images/Airbnb.svg" alt="Airbnb" class="img-fluid brand-logo">
        </div>
        <div class="col-6 col-md-4 col-lg-2">
            <img src="~/images/uber.svg" alt="uber" class="img-fluid brand-logo">
        </div>
    </section>
</div>


<section class="contact-section my-5">
    <div class="container">
        <div class="row align-items-center">
            <!-- Left Side: Image -->
            <div class="col-md-6 col-sm-12">
                <img src="~/images/Messages-amico.svg" alt="Contact Us" class="img-fluid w-75">
            </div>

            <!-- Right Side: Contact Form -->
            <div class="col-md-6">
                <h2>Contact Us</h2>
                <form action="send_email.php" method="POST">
                    <div class="mb-3">
                        <label for="subject" class="form-label">Subject</label>
                        <input type="text" class="form-control" id="subject" name="subject" required>
                    </div>
                    <div class="mb-3">
                        <label for="message" class="form-label">Message</label>
                        <textarea class="form-control" id="message" name="message" rows="4" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>
    </div>
</section>

@* @if (SignInManager.IsSignedIn(User)) *@
@* { *@
@*     <section class="become-organizer-section text-center py-5"> *@
@*         <div class="container"> *@
@*             <h2 class="fw-bold py-3">Become an Event Organizer</h2> *@
@*             <p class="text-muted"> *@
@*                 Want to host your own events? Request to become an organizer and start creating events today! *@
@*             </p> *@
@*             <button type="button" class="btn bg-primary-color rounded-1 text-white fw-bold" id="requestAccessButton"> *@
@*                 Request Access *@
@*             </button> *@
@*         </div> *@
@*     </section> *@

@*     <!-- Confirmation Modal --> *@
@*     <div class="modal fade" id="confirmRequestModal" tabindex="-1" aria-hidden="true"> *@
@*         <div class="modal-dialog"> *@
@*             <div class="modal-content"> *@
@*                 <div class="modal-header"> *@
@*                     <h5 class="modal-title">Confirm Request</h5> *@
@*                     <button type="button" class="btn-close" data-bs-dismiss="modal"></button> *@
@*                 </div> *@
@*                 <div class="modal-body"> *@
@*                     Are you sure you want to request access as an event organizer? *@
@*                 </div> *@
@*                 <div class="modal-footer"> *@
@*                     <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button> *@
@*                     <button type="button" class="btn bg-primary-color text-white" id="confirmRequestButton">Yes, Request</button> *@
@*                 </div> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@

@*     <!-- CSRF Token --> *@
@*     @Html.AntiForgeryToken() *@
@* } *@

@* @section Scripts { *@
@*     <script> *@
@*         document.getElementById("requestAccessButton").addEventListener("click", function () { *@
@*             var modal = new bootstrap.Modal(document.getElementById("confirmRequestModal")); *@
@*             modal.show(); *@
@*         }); *@

@*         document.getElementById("confirmRequestButton").addEventListener("click", function () { *@
@*             var token = document.querySelector("input[name='__RequestVerificationToken']").value; *@

@*             fetch('/OrganizerRequests/RequestAccess', { *@
@*                 method: "POST", *@
@*                 headers: { *@
@*                     "Content-Type": "application/json", *@
@*                     "RequestVerificationToken": token *@
@*                 }, *@
@*                 body: JSON.stringify({}) *@
@*             }) *@
@*             .then(response => { *@
@*                 if (response.ok) { *@
@*                     return response.json(); *@
@*                 } else { *@
@*                     throw new Error("Request failed"); *@
@*                 } *@
@*             }) *@
@*             .then(data => { *@
@*                 alert("Your request has been submitted successfully!"); *@
@*                 location.reload(); *@
@*             }) *@
@*             .catch(error => { *@
@*                 alert("Error submitting request: " + error.message); *@
@*             }); *@
@*         }); *@
@*     </script> *@
@* } *@


@if (SignInManager.IsSignedIn(User))
{
    <section class="become-organizer-section text-center py-5">
        <div class="container">
            <h2 class="fw-bold py-3">Become an Event Organizer</h2>
            <p class="text-muted">
                Want to host your own events? Request to become an organizer and start creating events today!
            </p>
            <button type="button" class="btn bg-primary-color rounded-1 text-white fw-bold" id="requestAccessButton">
                Request Access
            </button>
        </div>
    </section>

    <!-- Confirmation Modal -->
    <div class="modal fade" id="confirmRequestModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirm Request</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    Are you sure you want to request access as an event organizer?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <form method="post" id="requestForm">
                        @Html.AntiForgeryToken()
                        <button type="submit" class="btn bg-primary-color text-white">Yes, Request</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
}

<script>
    document.getElementById("requestAccessButton").addEventListener("click", function () {
        var confirmModal = new bootstrap.Modal(document.getElementById("confirmRequestModal"));
        confirmModal.show();
    });
</script>
